<!DOCTYPE html>
<html lang="ru">
  <head>
    {% load static %}
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Аккаунт</title>

    <link rel="stylesheet" href="{% static 'css/account.css' %}" />
    <link rel="stylesheet" href="{% static 'css/header.css' %}" />
    <link rel="stylesheet" href="{% static 'css/footer.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <script src="{% static 'js/account.js' %}"></script>
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}" />
  </head>
  <body>
    {% include 'header.html' %}

    <section class="account-page">
      <h1 class="page-title">Личный кабинет</h1>

      <!-- Информация о пользователе -->
      <div class="user-info">
        <h2>Ваши данные</h2>
        <div class="user-details">
          <p>
            <strong>ФИО:</strong> {{ user.last_name }} {{ user.first_name }} {{ user.middle_name }}
          </p>
          <p>
            <strong>Почта:</strong> {{ user.login }}
          </p>
          <p>
            <strong>Дата рождения:</strong> {{ user.birth_date|date:'d.m.Y' }}
          </p>
        </div>
      </div>

      <!-- Список заказанных билетов -->
      <div class="ticket-history">
        <h2>Ваши билеты</h2>
        <div class="ticket-cards">
          <!-- Вывод всех билетов пользователя -->
          {% for ticket in tickets %}
          <div class="ticket-card">
            <h3 class="ticket-title">{{ ticket.service_type.name }}</h3>
            <p class="ticket-date">Дата посещения: {{ ticket.visit_date|date:'d.m.Y' }}</p>
            <p class="ticket-price">Стоимость: {{ ticket.price }} ₽</p>
          </div>
          {% empty %}
          <p>У вас пока нет билетов.</p>
          {% endfor %}
        </div>
      </div>
    </section>

    {% include 'footer.html' %}
  </body>
</html>
